<div class="dialog-header">
  <h2 mat-dialog-title>
    <mat-icon>edit_note</mat-icon>
    <span>Ingresar Precio Personalizado</span>
  </h2>
  <button mat-icon-button (click)="cancelar()" class="close-button">
    <mat-icon>close</mat-icon>
  </button>
</div>

<mat-dialog-content>
  <p class="subtitle">Art√≠culo: <strong>{{ nombreArticulo }}</strong></p>
  
  <p class="costo-info">
    El precio de costo es: 
    <strong>{{ precioCostoBase | currencyConvert:'USD':currency:exchangeRate:2 }}</strong>
  </p>

  <mat-form-field appearance="outline" class="full-width">
    <mat-label>Precio Final de Venta ({{ currency }})</mat-label>
    
    <span matTextPrefix>{{ currency === 'USD' ? '$' : 'C$' }}&nbsp;</span>
    
    <input
      matInput
      type="number"
      [(ngModel)]="precioIngresadoVisual"
      (keyup.enter)="confirmar()"
      placeholder="0.00"
      cdkFocusInitial>
  </mat-form-field>

  <div *ngIf="errorMessage" class="error-message">
    <mat-icon>error_outline</mat-icon>
    <span>{{ errorMessage }}</span>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-stroked-button (click)="cancelar()">Cancelar</button>
  <button mat-flat-button color="primary" (click)="confirmar()" [disabled]="!precioIngresadoVisual">
    <mat-icon>check_circle</mat-icon>
    <span>Confirmar Precio</span>
  </button>
</mat-dialog-actions>