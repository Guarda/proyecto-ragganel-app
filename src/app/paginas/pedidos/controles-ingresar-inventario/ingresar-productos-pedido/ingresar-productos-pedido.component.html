<h3 mat-dialog-title>
    <span>Agregar Producto</span>
</h3>
<form [formGroup]="form">
    <div class="contenedor-principal">
        <div class="contenedor-secundario">
            <div class="contenedor-img-consola" *ngIf="articulo && articulo.ImagePath">
                <img [src]="ImagePath" alt="imagen-consola" class="imagen-consola">
            </div>

            <div class="contendor-form">
                <mat-dialog-content class="mat-typography">
                    <h3>Ingresa detalles del producto a ingresar</h3>

                    <div class="form-grid-container">

                        <mat-form-field>
                            <mat-label>Fabricante</mat-label>
                            <mat-select formControlName="Fabricante">
                                <mat-option *ngFor="let est of selectedFabricante" [value]="est.IdFabricantePK">{{est.NombreFabricante}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>Categoria</mat-label>
                            <mat-select formControlName="Cate">
                                <mat-option *ngFor="let est of selectedCategoriaProducto" [value]="est.IdCategoriaPK">{{est.NombreCategoria}}</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>Modelo</mat-label>
                            <mat-select formControlName="SubCategoria">
                                <mat-option *ngFor="let est of selectedSubCategoriaProducto" [value]="est.IdSubcategoria">{{est.NombreSubCategoria}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        
                        <mat-form-field>
                            <mat-label>Numero de serie</mat-label>
                            <input matInput formControlName="NumeroSerie">
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>Color</mat-label>
                            <input matInput formControlName="ColorConsola">
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>Estado</mat-label>
                            <mat-select formControlName="EstadoConsola">
                                <mat-option *ngFor="let est of selectedEstado" [value]="est.CodigoEstado">{{est.DescripcionEstado}}</mat-option>
                            </mat-select>
                        </mat-form-field>
                        
                        <mat-form-field>
                            <mat-label>Precio Base</mat-label>
                            <input matInput type="number" formControlName="PrecioBase">
                        </mat-form-field>

                        <mat-form-field>
                            <mat-label>Costo Adicional</mat-label>
                            <input matInput type="number" formControlName="CostoDistribuido">
                            <mat-hint>Impuestos/env√≠o asignado</mat-hint>
                        </mat-form-field>

                        <div class="precio-final grid-span-2">
                          <h4>
                            Precio Final de Ingreso:
                            <strong>{{ precioFinalIngreso | currency }}</strong>
                          </h4>
                        </div>
                        
                        <mat-form-field>
                            <mat-label>Hack?</mat-label>
                            <mat-select formControlName="HackConsola">
                                <mat-option value="0">Stock</mat-option>
                                <mat-option value="1">Hack</mat-option>
                            </mat-select>
                        </mat-form-field>

                        <mat-form-field class="grid-span-2">
                            <mat-label>Accesorios</mat-label>
                            <mat-chip-grid #chipGrid aria-label="Enter keywords">
                                @for (keyword of keywords(); track keyword) {
                                  <mat-chip-row (removed)="removeKeyword(keyword)">
                                    {{keyword}}
                                    <button matChipRemove><mat-icon>cancel</mat-icon></button>
                                  </mat-chip-row>
                                }
                            </mat-chip-grid>
                            <input placeholder="Agrega accesorios..." [matChipInputFor]="chipGrid" (matChipInputTokenEnd)="add($event)"/>
                        </mat-form-field>

                        <mat-form-field class="grid-span-2">
                            <mat-label>Tareas a realizar</mat-label>
                            <mat-chip-grid #reactiveChipGrid aria-label="Enter reactive form keywords">
                              @for (keyword of todolistKeywords(); track keyword) {
                                <mat-chip-row (removed)="removeReactiveKeyword(keyword)">
                                  {{keyword}}
                                  <button matChipRemove><mat-icon>cancel</mat-icon></button>
                                </mat-chip-row>
                              }
                            </mat-chip-grid>
                            <input placeholder="Agrega tareas..." [matChipInputFor]="reactiveChipGrid" (matChipInputTokenEnd)="addReactiveKeyword($event)"/>
                        </mat-form-field>

                    </div>
                </mat-dialog-content>
            </div>
        </div>

        <div class="contenedor-comentario">
            <h3>Comentarios</h3>
            <mat-form-field class="example-full-width">
                <mat-label>Describe el estado del producto</mat-label>
                <textarea matInput formControlName="ComentarioConsola" placeholder="Pantalla rota, para repuesto, etc..."></textarea>
            </mat-form-field>
        </div>
    </div>
</form>