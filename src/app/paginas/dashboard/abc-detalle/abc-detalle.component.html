<header class="modal-header">
  <h2 mat-dialog-title>Top 10: {{ title }}</h2>
  <button mat-icon-button (click)="cerrar()" aria-label="Cerrar diálogo">
    <mat-icon>close</mat-icon>
  </button>
</header>

 
<mat-divider></mat-divider>

<div mat-dialog-content class="modal-content">
  <div *ngIf="isLoading" class="spinner-container">
    <mat-progress-spinner mode="indeterminate" diameter="40"></mat-progress-spinner>
    <p>Preparando descarga...</p>
  </div>

  <p *ngIf="(!items || items.length === 0) && !isLoading">
    No se encontraron artículos para esta categoría.
  </p>

  <table *ngIf="items && items.length > 0 && !isLoading" mat-table [dataSource]="items" class="mat-elevation-z2" >

    <ng-container matColumnDef="NombreArticulo">
      <th mat-header-cell *matHeaderCellDef> Artículo </th>
      <td mat-cell *matCellDef="let item"> {{item.NombreArticulo}} </td>
    </ng-container>

    <ng-container matColumnDef="Cantidad">
      <th mat-header-cell *matHeaderCellDef> Cantidad </th>
      <td mat-cell *matCellDef="let item" class="col-numerica"> {{item.Cantidad}} </td>
    </ng-container>

    <ng-container matColumnDef="PrecioBase">
      <th mat-header-cell *matHeaderCellDef> Precio Unit. </th>
      <td mat-cell *matCellDef="let item" class="col-numerica"> {{item.PrecioBase | currency:'USD'}} </td>
    </ng-container>

    <ng-container matColumnDef="ValorTotal">
      <th mat-header-cell *matHeaderCellDef> Valor Total </th>
      <td mat-cell *matCellDef="let item" class="col-numerica col-total">
        <strong>{{item.ValorTotal | currency:'USD'}}</strong>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

<mat-divider></mat-divider>

 
<div mat-dialog-actions align="end">
  <button mat-flat-button (click)="cerrar()" >Cerrar</button>
  <button mat-flat-button color="primary"
          (click)="descargarListaCompleta()"
          [disabled]="isLoading">
    <mat-icon>download</mat-icon>
    Descargar Lista Completa
  </button>
</div>